{"filter":false,"title":"show.html","tooltip":"/show.html","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":196,"column":9},"action":"insert","lines":["<!-- Image -->","<div class=\"row\">","  <div class=\"col-md-12\">","    <%= image_tag @room.cover_photo(nil), width: \"100%\" %>","  </div>","</div>","<br/>","","<div class=\"row\">","","  <!-- LEFT PANEL -->","  <div class=\"col-md-8\">","    <!-- Listing name -->","    <div class=\"row\">","      <div class=\"col-md-8\">","        <h1><%= @room.listing_name %></h1>","        <%= @room.address %>","      </div>","      <div class=\"col-md-4 text-center\">","        <%= image_tag avatar_url(@room.user), class: \"img-circle avatar-large\" %><br/><br/>","        <%= @room.user.fullname %>","      </div>","    </div>","    <hr/>","","    <!-- Room Info -->","    <div class=\"row text-babu\">","      <div class=\"row text-center row-space-1\">","        <div class=\"col-md-3\">","          <i class=\"fa fa-home fa-2x\"></i>","        </div>","        <div class=\"col-md-3\">","          <i class=\"fa fa-user-circle-o fa-2x\"></i>","        </div>","        <div class=\"col-md-3\">","          <i class=\"fa fa-bed fa-2x\"></i>","        </div>","        <div class=\"col-md-3\">","          <i class=\"fa fa-bath fa-2x\"></i>","        </div>","      </div>","      <div class=\"row text-center\">","        <div class=\"col-md-3\"><%= @room.home_type %></div>","        <div class=\"col-md-3\"><%= pluralize(@room.accommodate, \"Guest\") %></div>","        <div class=\"col-md-3\"><%= pluralize(@room.bed_room, \"Bedroom\") %></div>","        <div class=\"col-md-3\"><%= pluralize(@room.bath_room, \"Bathroom\") %></div>","      </div>","    </div>","    <hr/>","","    <!-- About -->","    <div class=\"row\">","      <div class=\"col-md-12\">","        <h3>About This Listing</h3>","        <p><%= @room.summary %></p>","      </div>","    </div>","    <hr/>","","    <!-- Amenities -->","    <div class=\"row\">","      <div class=\"col-md-3\">","        <h4>Amenities</h4>","      </div>","","      <div class=\"col-md-9\">","        <div class=\"row\">","          <div class=\"col-md-6\">","            <ul class=\"amenities\">","              <li class=\"<%= 'text-line-through' if !@room.is_tv %>\">TV</li>","              <li class=\"<%= 'text-line-through' if !@room.is_kitchen %>\">Kitchen</li>","              <li class=\"<%= 'text-line-through' if !@room.is_internet %>\">Internet</li>","            </ul>","          </div>","","          <div class=\"col-md-6\">","            <ul class=\"amenities\">","              <li class=\"<%= 'text-line-through' if !@room.is_heating %>\">Heating</li>","              <li class=\"<%= 'text-line-through' if !@room.is_air %>\">Air Conditioning</li>","            </ul>","          </div>","        </div>","      </div>","    </div>","    <hr/>","","    <!-- Carousel -->","    <div class=\"row\">","","      <% if @photos.length > 0 %>","        <div id=\"myCarousel\" class=\"carousel slide\" data-ride=\"carousel\">","        <!-- Indicators -->","        <ol class=\"carousel-indicators\">","          <% @photos.each do |photo| %>","          <li data-target=\"#myCarousel\" data-slide-to=\"<%= photo.id %>\"></li>","          <% end %>","        </ol>","","        <!-- Wrapper for slides -->","        <div class=\"carousel-inner\">","          <% @photos.each do |photo| %>","          <div class=\"item <%= 'active' if photo.id == @photos[0].id %>\">","            <%= image_tag photo.image.url() %>","          </div>","          <% end %>","        </div>","","        <!-- Left and right controls -->","        <a class=\"left carousel-control\" href=\"#myCarousel\" data-slide=\"prev\">","          <span class=\"glyphicon glyphicon-chevron-left\"></span>","          <span class=\"sr-only\">Previous</span>","        </a>","        <a class=\"right carousel-control\" href=\"#myCarousel\" data-slide=\"next\">","          <span class=\"glyphicon glyphicon-chevron-right\"></span>","          <span class=\"sr-only\">Next</span>","        </a>","      </div>","      <% end %>","","    </div>","    <hr/>","","    <div class=\"row\">","      <div class=\"col-md-12\">","        <h3>","          <%= pluralize(@guest_reviews.count, \"Review\") %>","          <span id=\"average_rating\"></span>","        </h3>","        <div class=\"container\">","          <div><%= render \"reviews/guest_list\" %></div>","        </div>","      </div>","    </div>","    <br/>","    <hr/>","","    <!-- GOOGLE MAP -->","    <div class=\"row\">","","  <div id=\"map\" style=\"width: 100%; height: 400px\"></div>","","  <script src=\"https://maps.googleapis.com/maps/api/js\"></script>","  <script>","    function initialize() {","      var location = {lat: <%= @room.latitude %>, lng: <%= @room.longitude %>};","      var map = new google.maps.Map(document.getElementById('map'), {","        center: location,","        zoom:14","      });","      var marker = new google.maps.Marker({","        position: location,","        map: map","      });","      var infoWindow = new google.maps.InfoWindow({","        content: '<div id=\"content\"><%= image_tag @room.cover_photo(:thumb) %></div>'","      });","      infoWindow.open(map, marker);","    }","    google.maps.event.addDomListener(window, 'load', initialize);","  </script>","","    </div>","    <hr/>","","    <!-- NEAR BY ROOMS -->","    <div class=\"row\">","      <h3>Near by</h3>","      <% for room in @room.nearbys(10).max(6).shuffle %>","        <div class=\"col-md-4\">","          <div class=\"panel panel-default\">","            <div class=\"panel-heading preview\">","              <%= image_tag room.cover_photo(:medium) %>","            </div>","            <div class=\"panel-body\">","              <%= link_to room.listing_name, room %><br/>","              (<%= room.distance.round(2) %> km away)","            </div>","          </div>","        </div>","      <% end %>","    </div>","  </div>","","  <!-- RIGHT PANEL -->","  <div class=\"col-md-4\">","    <!-- RESERVATION FORM -->","    <%= render 'reservations/form' %>","  </div>","</div>","","<script>","  $('#average_rating').raty({","    path: '/assets',","    readOnly: true,","    score: <%= @room.average_rating %>","  });","</script>"],"id":1}],[{"start":{"row":3,"column":19},"end":{"row":3,"column":23},"action":"remove","lines":["room"],"id":2},{"start":{"row":3,"column":19},"end":{"row":3,"column":29},"action":"insert","lines":["barbershop"]},{"start":{"row":15,"column":17},"end":{"row":15,"column":21},"action":"remove","lines":["room"]},{"start":{"row":15,"column":17},"end":{"row":15,"column":27},"action":"insert","lines":["barbershop"]},{"start":{"row":16,"column":13},"end":{"row":16,"column":17},"action":"remove","lines":["room"]},{"start":{"row":16,"column":13},"end":{"row":16,"column":23},"action":"insert","lines":["barbershop"]},{"start":{"row":19,"column":34},"end":{"row":19,"column":38},"action":"remove","lines":["room"]},{"start":{"row":19,"column":34},"end":{"row":19,"column":44},"action":"insert","lines":["barbershop"]},{"start":{"row":20,"column":13},"end":{"row":20,"column":17},"action":"remove","lines":["room"]},{"start":{"row":20,"column":13},"end":{"row":20,"column":23},"action":"insert","lines":["barbershop"]},{"start":{"row":42,"column":35},"end":{"row":42,"column":39},"action":"remove","lines":["room"]},{"start":{"row":42,"column":35},"end":{"row":42,"column":45},"action":"insert","lines":["barbershop"]},{"start":{"row":43,"column":45},"end":{"row":43,"column":49},"action":"remove","lines":["room"]},{"start":{"row":43,"column":45},"end":{"row":43,"column":55},"action":"insert","lines":["barbershop"]},{"start":{"row":44,"column":45},"end":{"row":44,"column":49},"action":"remove","lines":["room"]},{"start":{"row":44,"column":45},"end":{"row":44,"column":55},"action":"insert","lines":["barbershop"]},{"start":{"row":45,"column":45},"end":{"row":45,"column":49},"action":"remove","lines":["room"]},{"start":{"row":45,"column":45},"end":{"row":45,"column":55},"action":"insert","lines":["barbershop"]},{"start":{"row":54,"column":16},"end":{"row":54,"column":20},"action":"remove","lines":["room"]},{"start":{"row":54,"column":16},"end":{"row":54,"column":26},"action":"insert","lines":["barbershop"]},{"start":{"row":69,"column":54},"end":{"row":69,"column":58},"action":"remove","lines":["room"]},{"start":{"row":69,"column":54},"end":{"row":69,"column":64},"action":"insert","lines":["barbershop"]},{"start":{"row":70,"column":54},"end":{"row":70,"column":58},"action":"remove","lines":["room"]},{"start":{"row":70,"column":54},"end":{"row":70,"column":64},"action":"insert","lines":["barbershop"]},{"start":{"row":71,"column":54},"end":{"row":71,"column":58},"action":"remove","lines":["room"]},{"start":{"row":71,"column":54},"end":{"row":71,"column":64},"action":"insert","lines":["barbershop"]},{"start":{"row":77,"column":54},"end":{"row":77,"column":58},"action":"remove","lines":["room"]},{"start":{"row":77,"column":54},"end":{"row":77,"column":64},"action":"insert","lines":["barbershop"]},{"start":{"row":78,"column":54},"end":{"row":78,"column":58},"action":"remove","lines":["room"]},{"start":{"row":78,"column":54},"end":{"row":78,"column":64},"action":"insert","lines":["barbershop"]},{"start":{"row":144,"column":32},"end":{"row":144,"column":36},"action":"remove","lines":["room"]},{"start":{"row":144,"column":32},"end":{"row":144,"column":42},"action":"insert","lines":["barbershop"]},{"start":{"row":144,"column":66},"end":{"row":144,"column":70},"action":"remove","lines":["room"]},{"start":{"row":144,"column":66},"end":{"row":144,"column":76},"action":"insert","lines":["barbershop"]},{"start":{"row":154,"column":51},"end":{"row":154,"column":55},"action":"remove","lines":["room"]},{"start":{"row":154,"column":51},"end":{"row":154,"column":61},"action":"insert","lines":["barbershop"]},{"start":{"row":167,"column":13},"end":{"row":167,"column":17},"action":"remove","lines":["room"]},{"start":{"row":167,"column":13},"end":{"row":167,"column":23},"action":"insert","lines":["barbershop"]},{"start":{"row":167,"column":28},"end":{"row":167,"column":32},"action":"remove","lines":["room"]},{"start":{"row":167,"column":28},"end":{"row":167,"column":38},"action":"insert","lines":["barbershop"]},{"start":{"row":171,"column":28},"end":{"row":171,"column":32},"action":"remove","lines":["room"]},{"start":{"row":171,"column":28},"end":{"row":171,"column":38},"action":"insert","lines":["barbershop"]},{"start":{"row":174,"column":26},"end":{"row":174,"column":30},"action":"remove","lines":["room"]},{"start":{"row":174,"column":26},"end":{"row":174,"column":36},"action":"insert","lines":["barbershop"]},{"start":{"row":174,"column":51},"end":{"row":174,"column":55},"action":"remove","lines":["room"]},{"start":{"row":174,"column":51},"end":{"row":174,"column":61},"action":"insert","lines":["barbershop"]},{"start":{"row":175,"column":19},"end":{"row":175,"column":23},"action":"remove","lines":["room"]},{"start":{"row":175,"column":19},"end":{"row":175,"column":29},"action":"insert","lines":["barbershop"]},{"start":{"row":194,"column":16},"end":{"row":194,"column":20},"action":"remove","lines":["room"]},{"start":{"row":194,"column":16},"end":{"row":194,"column":26},"action":"insert","lines":["barbershop"]}]]},"ace":{"folds":[],"scrolltop":608,"scrollleft":0,"selection":{"start":{"row":56,"column":10},"end":{"row":56,"column":10},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":42,"state":"start","mode":"ace/mode/html"}},"timestamp":1512623265682,"hash":"8dc5b938eb06f41cb2b3a516045c9d7bc03bd289"}