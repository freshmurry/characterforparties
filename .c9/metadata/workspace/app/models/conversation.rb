{"filter":false,"title":"conversation.rb","tooltip":"/app/models/conversation.rb","undoManager":{"mark":-1,"position":-1,"stack":[[{"start":{"row":9,"column":3},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":22},{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":9,"column":3},"end":{"row":10,"column":0},"action":"remove","lines":["",""],"id":21}],[{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"remove","lines":["  "],"id":20}],[{"start":{"row":10,"column":2},"end":{"row":10,"column":3},"action":"remove","lines":["e"],"id":19}],[{"start":{"row":10,"column":3},"end":{"row":10,"column":4},"action":"remove","lines":["n"],"id":18}],[{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"remove","lines":["d"],"id":17}],[{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"insert","lines":["  "],"id":16}],[{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"insert","lines":["d"],"id":15},{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":10,"column":3},"end":{"row":10,"column":4},"action":"insert","lines":["n"],"id":14}],[{"start":{"row":10,"column":2},"end":{"row":10,"column":3},"action":"insert","lines":["e"],"id":13}],[{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"insert","lines":["  "],"id":12}],[{"start":{"row":0,"column":0},"end":{"row":14,"column":3},"action":"remove","lines":["class Conversation < ApplicationRecord","  belongs_to :sender, foreign_key: :sender_id, class_name: \"User\"","    belongs_to :recipient, foreign_key: :recipient_id, class_name: \"User\"","  ","    has_many :messages, dependent: :destroy","    validates_uniqueness_of :sender_id, :recipient_id","  ","    scope :involving, -> (user) {","      where(\"conversations.sender_id = ? OR conversations.recipient_id = ?\", user.id, user.id)","    }","  ","    scope :between, -> (user_A, user_B) {","      where(\"(conversations.sender_id = ? OR conversations.recipient_id = ?) OR conversations.sender_id = ? OR conversations.recipient_id = ?\", user_A, user_B, user_B, user_A)","    }","end"],"id":11},{"start":{"row":0,"column":0},"end":{"row":14,"column":3},"action":"insert","lines":["class Conversation < ApplicationRecord","  belongs_to :sender, foreign_key: :sender_id, class_name: \"User\"","  belongs_to :recipient, foreign_key: :recipient_id, class_name: \"User\"","","  has_many :messages, dependent: :destroy","  validates_uniqueness_of :sender_id, :recipient_id","","  scope :involving, -> (user) {","    where(\"conversations.sender_id = ? OR conversations.recipient_id = ?\", user.id, user.id)","  }","","  scope :between, -> (user_A, user_B) {","    where(\"(conversations.sender_id = ? OR conversations.recipient_id = ?) OR conversations.sender_id = ? OR conversations.recipient_id = ?\", user_A, user_B, user_B, user_A)","  }","end"]}],[{"start":{"row":14,"column":3},"end":{"row":15,"column":0},"action":"remove","lines":["",""],"id":10}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":1},"action":"remove","lines":["e"],"id":9}],[{"start":{"row":15,"column":1},"end":{"row":15,"column":2},"action":"remove","lines":["n"],"id":8}],[{"start":{"row":15,"column":2},"end":{"row":15,"column":3},"action":"remove","lines":["d"],"id":7}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":3},"action":"remove","lines":["end"],"id":6},{"start":{"row":15,"column":0},"end":{"row":15,"column":3},"action":"insert","lines":["end"]}],[{"start":{"row":15,"column":2},"end":{"row":15,"column":3},"action":"insert","lines":["d"],"id":5}],[{"start":{"row":15,"column":1},"end":{"row":15,"column":2},"action":"insert","lines":["n"],"id":4}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":1},"action":"insert","lines":["e"],"id":3}],[{"start":{"row":14,"column":3},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":2}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":14,"column":3},"end":{"row":14,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1514961884653,"hash":"aa9526f364aa8c058bb44ebfac5a66527899a407"}